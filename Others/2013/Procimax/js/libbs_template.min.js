function loadXMLDoc(a){return xhttp=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),xhttp.open("GET",a,!1),xhttp.send(""),xhttp.responseXML}function init(){for(var a=document.getElementsByClassName("libbs_slide"),b=0;a.length>b;b++)if(!a[b].hidden){current_section_id=a[b].id;break}parseData(),xml=loadXMLDoc("data.xml"),xsl=loadXMLDoc("stylesheet/libbs_template.xsl"),xsltProcessor=new XSLTProcessor,xsltProcessor.importStylesheet(xsl),resultDocument=xsltProcessor.transformToFragment(xml,document),document.getElementsByClassName("touchcarousel-container")[0].appendChild(resultDocument),jQuery(function(a){a("#libbs_menu_slider").touchCarousel({pagingNav:!1,snapToItems:!1,itemsPerMove:4,scrollToLast:!1,loopItems:!1,scrollbar:!0})}),$("#libbs_content").swipe({click:function(){hide_menu()},swipeLeft:function(){next_slide(),hide_menu()},swipeRight:function(){previous_slide(),hide_menu()},threshold:100}),document.ontouchmove=function(a){a.preventDefault()}}function next_slide(){var a=current_section_id.replace("slide","");a++,null!=document.getElementById("slide"+a)&&show_section("slide"+a)}function previous_slide(){var a=current_section_id.replace("slide","");a--,null!=document.getElementById("slide"+a)&&show_section("slide"+a)}function show_modal(a,b){var c=document.getElementById("modal"),d=document.getElementById("shade"),e=document.getElementById("libbs_video"),f=document.getElementById("libbs_info");null!=a?(e.hidden=!0,document.getElementById("libbs_info").src=a):b&&(f.hidden=!0,e.src=b,e.load()),c.style.display=d.style.display="block"}function hide_modal(){var a=document.getElementById("modal"),b=document.getElementById("shade"),c=document.getElementById("libbs_video"),d=document.getElementById("libbs_info");c.hidden?c.hidden=!1:(c.pause(),c.currentTime=.1),d.hidden&&(d.hidden=!1),a.style.display=b.style.display="none"}function show_info(a){if(null!=a){var b=document.getElementById("modal"),c=document.getElementById("shade"),d=document.getElementById("libbs_video");b.style.display=c.style.display="block",d.hidden=!0,document.getElementById("libbs_info").innerHTML=a.fontcolor("white")}}function show_video(a){if(null!=a){var b=document.getElementById("modal"),c=document.getElementById("shade"),d=document.getElementById("libbs_video");d.src=a,d.load(),b.style.display=c.style.display="block"}}function hide_video(){var a=document.getElementById("modal"),b=document.getElementById("shade");a.style.display=b.style.display="none";var c=document.getElementById("libbs_video");c.pause(),c.currentTime=.1}function show_menu(){var a=document.getElementById("libbs_nav_menu");a.className==State1?a.className=State2:hide_menu()}function hide_menu(){var a=document.getElementById("libbs_nav_menu");a.className==State2&&(a.className=State1)}function show_section(a){var b=document.getElementById(current_section_id);null!=b&&("function"==typeof will_hide_section&&will_hide_section(current_section_id),b.hidden=!0);var c=document.getElementById(a);null!=c&&("function"==typeof will_show_section&&will_show_section(a),c.hidden=!1,current_section_id=a)}function parseData(){for(var a=loadXMLDoc("data.xml"),b=a.getElementsByTagName("video"),c=0;b.length>c;c++){var d=b[c].childNodes[0],e=d.parentNode.parentNode.getElementsByTagName("section")[0].childNodes[0].nodeValue,f=RegExp("'","g");e=e.replace(f,"");var g=d.nodeValue,h=document.getElementById(e),i=document.createElement("img");i.setAttribute("class","video_button"),i.setAttribute("src","images/video.png"),i.setAttribute("onClick","show_modal(null, 'media/"+g+"')"),h.appendChild(i)}var j=a.getElementsByTagName("info");for(c=0;j.length>c;c++){d=j[c].childNodes[0],e=d.parentNode.parentNode.getElementsByTagName("section")[0].childNodes[0].nodeValue,e=e.replace(f,"");var k=d.nodeValue;k="'images/"+k+"'",h=document.getElementById(e);var l=document.createElement("img");l.setAttribute("class","info_button"),l.setAttribute("src","images/info.png"),l.setAttribute("onClick","show_modal("+k+", null)"),h.appendChild(l)}}var State1="libbs_nav_menu_collapsed",State2=State1+" libbs_nav_menu_expanded",current_section_id;